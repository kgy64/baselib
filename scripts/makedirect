#
#

%.depend: %.c
	@echo "    Depending $< ..."; \
	rm -f "$@"; \
	_objfile="$(<:.c=.o)"; \
	$(CC) $(CFLAGS) -M -MF "$@" -MT "$$_objfile $@" $< || exit 1; \

%.depend: %.cpp
	@echo "    Depending $< ..."; \
	rm -f "$@"; \
	_objfile="$(<:.cpp=.o)"; \
	$(CXX) $(CXXFLAGS) -M -MF "$@" -MT "$$_objfile $@" $< || exit 1; \

%.o: %.c
	@echo "    o CC $< ..."
	@$(CC) $(CFLAGS) -o $@ -c $<

%.o: %.cpp
	@echo "    o C++ $< ..."
	@$(CXX) $(CXXFLAGS) -o $@ -c $<

